{"version":3,"sources":["redux/selectors.js","components/Header/Header.js","components/Header/HeaderContainer.js","components/Sidebar/Friends/Friends.js","components/Sidebar/Friends/FriendsContainer.js","components/Sidebar/Sidebar.js","components/Sidebar/SidebarContainer.js","redux/app-reducer.js","components/HOC/withSuspense.js","App.js","redux/sidebar-reducer.js","redux/redux-store.js","index.js","components/common/Preloader/Preloader.js","redux/auth-reducer.js","components/Header/Header.module.css","redux/profile-reducer.js","components/Sidebar/Friends/Friends.module.css","api/api.js","redux/users-reducer.js","redux/messages-reducer.js","components/common/Preloader/Preloader.module.css","assets/images/spinner.gif","components/Sidebar/Sidebar.module.css"],"names":["getAuthData","state","auth","authData","getIsAuth","isAuth","getCaptcha","captcha","getIsProfileLoading","profilePage","isLoading","getProfileData","profileData","getProfileEditMode","editMode","getIsStatusLoading","isStatusLoading","getProfileStatus","status","getIsMyProfile","isMyProfile","getPostsData","postsData","getIsPhotoUpdating","isPhotoUpdating","getDialogs","messagesPage","dialogsData","getMessages","messagesData","getIsAppInit","app","isInit","getFriendsList","sidebar","friends","getUsers","usersPage","users","getPageSize","pageSize","getTotalUsersCount","totalUsersCount","getCurrentPage","currentPage","getIsUsersLoading","createSelector","filter","u","Header","login","logout","className","s","header","Preloader","loginBlock","to","logoutBtn","onClick","HeaderContainer","this","props","React","Component","mapDispatchToProps","connect","Friends","title","map","id","name","key","item","FriendsContainer","Sidebar","activeClassName","active","initialState","appReducer","action","type","withSuspense","Suspense","fallback","ProfileContainer","lazy","MessagesContainer","UsersContainer","Music","News","SettingsContainer","LoginContainer","App","initApp","SidebarContainer","path","render","dispatch","a","requestAuthData","compose","withRouter","sidebarReducer","reducers","combineReducers","profileReducer","messagesReducer","usersReducer","authReducer","form","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunk","ReactDOM","document","getElementById","preloader","src","spinnerImg","alt","email","toggleAuthLoading","setCaptcha","authAPI","resultCode","data","sendLoginData","loginData","stopSubmit","_error","messages","url","module","exports","ADD_POST","text","likes","liked","addPost","likePost","setStatus","toggleStatusLoading","toggleIsMyProfile","toggleLoading","toggleEditMode","toggleIsPhotoUpdating","updatePhotoSuccess","photos","requestProfile","profileAPI","getProfile","getStatus","statusData","updateStatus","updateProfilePhoto","file","updatePhoto","updateProfileData","newProfileData","getState","length","newPostText","instance","axios","baseURL","withCredentials","headers","usersAPI","get","then","res","followUser","post","unfollowUser","delete","put","formData","FormData","append","newData","followed","isFollowDisabled","followSuccess","toggleFollowDisabled","setCurrentPage","requestUsers","pageNumber","items","totalCount","requireFollow","willFollow","sendMessage","newMessageText"],"mappings":"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","file":"static/js/main.9a8446d5.chunk.js","sourcesContent":["import { createSelector } from \"reselect\"\r\n\r\nexport const getAuthData = (state) => state.auth.authData\r\nexport const getIsAuth = (state) => state.auth.isAuth\r\nexport const getIsAuthLoading = (state) => state.auth.isLoading\r\nexport const getCaptcha = (state) => state.auth.captcha\r\n\r\nexport const getIsProfileLoading = (state) => state.profilePage.isLoading\r\nexport const getProfileData = (state) => state.profilePage.profileData\r\nexport const getProfileEditMode = (state) => state.profilePage.editMode\r\nexport const getIsStatusLoading = (state) => state.profilePage.isStatusLoading\r\nexport const getProfileStatus = (state) => state.profilePage.status\r\nexport const getIsMyProfile = (state) => state.profilePage.isMyProfile\r\nexport const getPostsData = (state) => state.profilePage.postsData\r\nexport const getIsPhotoUpdating = (state) => state.profilePage.isPhotoUpdating\r\n\r\nexport const getDialogs = (state) => state.messagesPage.dialogsData\r\nexport const getMessages = (state) => state.messagesPage.messagesData\r\n\r\nexport const getIsAppInit = (state) => state.app.isInit\r\n\r\nexport const getFriendsList = (state) => state.sidebar.friends\r\n\r\nexport const getUsers = (state) => state.usersPage.users\r\nexport const getPageSize = (state) => state.usersPage.pageSize\r\nexport const getTotalUsersCount = (state) => state.usersPage.totalUsersCount\r\nexport const getCurrentPage = (state) => state.usersPage.currentPage\r\nexport const getIsUsersLoading = (state) => state.usersPage.isLoading\r\n\r\nexport const getEditProfileInfoForm = (state) => state.form.editProfile\r\n\r\n\r\nexport const getUsersFiltered = createSelector(getUsers, (users) => users && users.filter(u => true))","import React from 'react'\r\nimport s from './Header.module.css'\r\nimport Preloader from '../common/Preloader/Preloader'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\nconst Header = ({ isAuth, isLoading, login, logout }) => {\r\n    return (\r\n        <header className={s.header}>\r\n            {isLoading ? <Preloader /> :  <div className={s.loginBlock}>\r\n                {isAuth ? <p>Hi, <NavLink to='/profile/'>{login}</NavLink>!</p>\r\n                    : <NavLink to='/login'>Login</NavLink>\r\n                }\r\n                {isAuth\r\n                    ? <button \r\n                        className={s.logoutBtn}\r\n                        onClick={logout}\r\n                      >Logout</button>\r\n                    : null\r\n                }\r\n            </div>}\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { logout } from '../../redux/auth-reducer'\r\nimport Header from './Header'\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n    render() {\r\n        const { isAuth, isLoading, authData, logout } = this.props\r\n\r\n        return <Header\r\n            isAuth={isAuth}\r\n            isLoading={isLoading}\r\n            login={authData.login}\r\n            logout={logout}\r\n        />\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    const { authData, isLoading, isAuth } = state.auth\r\n\r\n    return { authData, isLoading, isAuth }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    logout\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(HeaderContainer)","import React from 'react'\r\nimport s from './Friends.module.css'\r\n\r\nconst Friends = ({ friends }) => {\r\n\r\n    return (\r\n        <div>\r\n            <h3 className={s.title}>Friends</h3>\r\n            <ul>\r\n                {friends.map(({ id, name }) => <li key={id}><a className={s.item}>{name}</a></li>)}\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Friends","import { connect } from 'react-redux'\r\nimport Friends from './Friends'\r\nimport { getFriendsList } from '../../../redux/selectors'\r\n\r\n\r\nconst mapStateToProps = (state) => ({\r\n    friends: getFriendsList(state)\r\n})\r\n\r\nconst FriendsContainer = connect(mapStateToProps)(Friends)\r\n\r\nexport default FriendsContainer","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\nimport s from './Sidebar.module.css'\r\nimport FriendsContainer from './Friends/FriendsContainer'\r\n\r\nconst Sidebar = ({ isMyProfile }) => {\r\n    return (\r\n        <section className={s.sidebar}>\r\n            <nav>\r\n                <ul>\r\n                    <li className={s.item}>\r\n                        <NavLink to='/profile' activeClassName={isMyProfile && s.active}>Profile</NavLink>\r\n                    </li>\r\n                    <li className={s.item}>\r\n                        <NavLink to='/messages' activeClassName={s.active}>Messages</NavLink>\r\n                    </li>\r\n                    <li className={s.item}>\r\n                        <NavLink to='/news' activeClassName={s.active}>News</NavLink>\r\n                    </li>\r\n                    <li className={s.item}>\r\n                        <NavLink to='/music' activeClassName={s.active}>Music</NavLink>\r\n                    </li>\r\n                    <li className={s.item}>\r\n                        <NavLink to='/users' activeClassName={s.active}>Users</NavLink>\r\n                    </li>\r\n                    <li className={s.item}>\r\n                        <NavLink to='/settings' activeClassName={s.active}>Settings</NavLink>\r\n                    </li>\r\n                </ul>\r\n            </nav>\r\n\r\n            <FriendsContainer />\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Sidebar","import Sidebar from './Sidebar'\r\nimport { getIsMyProfile } from \"../../redux/selectors\"\r\nimport { connect } from 'react-redux'\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isMyProfile: getIsMyProfile(state)\r\n})\r\n\r\nexport default connect(mapStateToProps)(Sidebar)","import { requestAuthData } from \"./auth-reducer\"\r\n\r\nconst INIT_APP_SUCCESS = 'app/INIT_APP_SUCCESS'\r\n\r\nconst initialState = {\r\n    isInit: false\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INIT_APP_SUCCESS:\r\n            return {\r\n                ...state,\r\n                isInit: true\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const initAppSuccess = () => ({ type: INIT_APP_SUCCESS })\r\n\r\nexport const initApp = () => async (dispatch) => {\r\n    await dispatch(requestAuthData())\r\n    dispatch(initAppSuccess())\r\n}\r\n\r\nexport default appReducer","import React from 'react'\r\nimport Preloader from '../common/Preloader/Preloader'\r\nimport { deletePost } from '../../redux/profile-reducer'\r\n\r\nconst withSuspense = (Component) => {\r\n\r\n    return (props) => {\r\n        return (\r\n            <React.Suspense fallback={<Preloader/>}>\r\n                <Component {...props}/>\r\n            </React.Suspense>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default withSuspense","import React, { lazy, Suspense } from 'react'\nimport { Route, Switch, Redirect, withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport { compose } from 'redux'\nimport './App.css'\nimport HeaderContainer from './components/Header/HeaderContainer'\nimport SidebarContainer from './components/Sidebar/SidebarContainer'\nimport { initApp } from './redux/app-reducer'\nimport Preloader from './components/common/Preloader/Preloader'\nimport { getIsAppInit, getIsAuth } from './redux/selectors'\nimport withSuspense from './components/HOC/withSuspense'\n\nconst ProfileContainer = lazy(() => import('./components/Profile/ProfileContainer'))\nconst MessagesContainer = lazy(() => import('./components/Messages/MessagesContainer'))\nconst UsersContainer = lazy(() => import('./components/Users/UsersContainer'))\nconst Music = lazy(() => import('./components/Music/Music'))\nconst News = lazy(() => import('./components/News/News'))\nconst SettingsContainer = lazy(() => import('./components/Settings/SettingsContainer'))\nconst LoginContainer = lazy(() => import('./components/Login/LoginContainer'))\n\n\nclass App extends React.Component {\n\n  componentDidMount() {\n    const { initApp } = this.props\n\n    initApp()\n  }\n\n  render() {\n    const { isInit } = this.props\n\n    if (!isInit) {\n      return (\n        <div className='preloader-container'>\n          <Preloader />\n        </div>\n      )\n    }\n\n    return (\n      <div className='app-wrapper'>\n        <HeaderContainer />\n        <SidebarContainer />\n        <div className='app-wrapper-content'>\n          <Switch>\n            <Route\n              path='/profile/:userId?'\n              render={withSuspense(ProfileContainer)}\n            />\n            <Route path='/messages'\n              render={withSuspense(MessagesContainer)}\n            />\n            <Route path='/news' render={withSuspense(News)}\n            />\n            <Route path='/music' render={withSuspense(Music)}\n            />\n            <Route path='/users' render={withSuspense(UsersContainer)}\n            />\n            <Route path='/settings' render={withSuspense(SettingsContainer)}\n            />\n            <Route path='/login' render={withSuspense(LoginContainer)}\n            />\n            <Redirect to='/news' />\n          </Switch>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  isInit: getIsAppInit(state),\n  isAuth: getIsAuth(state)\n})\n\nconst mapDispatchToProps = {\n  initApp\n}\n\nexport default compose(\n  withRouter,\n  connect(mapStateToProps, mapDispatchToProps)\n)(App)","const initialState = {\r\n    friends: [\r\n        {id: 1, name: 'Andrew'},\r\n        {id: 2, name: 'Sergey'},\r\n        {id: 3, name: 'Vadim'}\r\n    ]\r\n}\r\n\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n    return state\r\n}\r\n\r\nexport default sidebarReducer","import { createStore, combineReducers, applyMiddleware, compose } from 'redux'\r\nimport appReducer from './app-reducer'\r\nimport sidebarReducer from './sidebar-reducer'\r\nimport profileReducer from './profile-reducer'\r\nimport messagesReducer from './messages-reducer'\r\nimport usersReducer from './users-reducer'\r\nimport authReducer from './auth-reducer'\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport thunk from 'redux-thunk'\r\n\r\n\r\nconst reducers = combineReducers({\r\n    app: appReducer,\r\n    sidebar: sidebarReducer,\r\n    profilePage: profileReducer,\r\n    messagesPage: messagesReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer\r\n})\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\r\nconst store = createStore(reducers, composeEnhancers(\r\n    applyMiddleware(thunk)\r\n))\r\nwindow.store = store\r\n\r\nexport default store","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport store from './redux/redux-store'\nimport { HashRouter } from 'react-router-dom'\nimport { Provider } from 'react-redux'\nimport './App.css'\n\n\nReactDOM.render(\n    <HashRouter>\n        <Provider\n            store={store}\n        >\n            <App />\n        </Provider>\n    </HashRouter>,\n    document.getElementById('root')\n)","import React from 'react'\r\nimport s from './Preloader.module.css'\r\nimport spinnerImg from '../../../assets/images/spinner.gif'\r\n\r\nconst Preloader = () => {\r\n    return (\r\n        <img className={s.preloader} src={spinnerImg} alt='loading...' />\r\n    )\r\n}\r\n\r\nexport default Preloader","import { authAPI } from '../api/api'\r\nimport { stopSubmit, reset } from 'redux-form'\r\n\r\nconst SET_AUTH_DATA = 'auth/SET_AUTH_DATA'\r\nconst SET_CAPTCHA = 'auth/SET_CAPTCHA'\r\nconst CLEAR_AUTH_DATA = 'auth/CLEAR_AUTH_DATA'\r\nconst TOGGLE_AUTH_LOADING = 'auth/TOGGLE_AUTH_LOADING'\r\n\r\n\r\nconst initialState = {\r\n    authData: {\r\n        id: null,\r\n        login: null,\r\n        email: null\r\n    },\r\n    captcha: null,\r\n    isAuth: false,\r\n    isLoading: false\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_AUTH_DATA:\r\n            return {\r\n                ...state,\r\n                authData: {...action.authData},\r\n                isAuth: true,\r\n                captcha: null\r\n            }\r\n        case SET_CAPTCHA:\r\n            return {\r\n                ...state,\r\n                captcha: action.captcha\r\n            }\r\n        case CLEAR_AUTH_DATA:\r\n            return {\r\n                ...state,\r\n                authData: {\r\n                    id: null,\r\n                    login: null,\r\n                    email: null\r\n                },\r\n                isAuth: false\r\n            }\r\n        case TOGGLE_AUTH_LOADING:\r\n            return {\r\n                ...state,\r\n                isLoading: action.isLoading\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n// ActionCreators\r\n\r\nexport const setAuthData = (authData) => ({ type: SET_AUTH_DATA, authData })\r\nexport const clearAuthData = () => ({ type: CLEAR_AUTH_DATA })\r\nexport const toggleAuthLoading = (isLoading) => ({ type: TOGGLE_AUTH_LOADING, isLoading })\r\nexport const setCaptcha = (captcha) => ({ type: SET_CAPTCHA, captcha })\r\n\r\n\r\n// ThunkCreators\r\n\r\nexport const requestAuthData = () => async (dispatch) => {\r\n    dispatch(toggleAuthLoading(true))\r\n\r\n    const { resultCode, data } = await authAPI.getAuthData()\r\n    \r\n    if (resultCode === 0) dispatch(setAuthData(data))\r\n    dispatch(toggleAuthLoading(false))\r\n}\r\n\r\nexport const sendLoginData = (loginData) => async (dispatch) => {\r\n    const data = await authAPI.login(loginData)\r\n\r\n    if (data.resultCode === 0) {\r\n        dispatch(requestAuthData())\r\n    } else if (data.resultCode === 10) {\r\n        const captcha = await authAPI.getCaptcha()\r\n        await dispatch(stopSubmit('login', {_error: data.messages}))\r\n        dispatch(setCaptcha(captcha.url))\r\n    } else {\r\n        dispatch(stopSubmit('login', {_error: data.messages}))\r\n    }\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    dispatch(toggleAuthLoading(true))\r\n\r\n    const { resultCode } = await authAPI.logout()\r\n\r\n    if (resultCode === 0) {\r\n        dispatch(toggleAuthLoading(false))\r\n        dispatch(clearAuthData())\r\n    }\r\n}\r\n\r\nexport default authReducer","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1mtZd\",\"loginBlock\":\"Header_loginBlock__2Etdq\",\"logoutBtn\":\"Header_logoutBtn__120ZI\"};","import { profileAPI } from '../api/api'\r\nimport { stopSubmit } from 'redux-form'\r\nimport { getAuthData } from './selectors'\r\n\r\nconst ADD_POST = 'profile/ADD_POST'\r\nconst DELETE_POST = 'profile/DELETE_POST'\r\nconst LIKE_POST = 'profile/LIKE_POST'\r\nconst SET_PROFILE = 'profile/SET_PROFILE'\r\nconst SET_STATUS = 'profile/SET_STATUS'\r\nconst TOGGLE_STATUS_LOADING = 'profile/TOGGLE_STATUS_LOADING'\r\nconst TOGGLE_IS_MY_PROFILE = 'profile/TOGGLE_IS_MY_PROFILE'\r\nconst TOGGLE_PROFILE_LOADING = 'profile/TOGGLE_PROFILE_LOADING'\r\nconst TOGGLE_EDIT_MODE = 'profile/TOGGLE_EDIT_MODE'\r\nconst TOGGLE_IS_PHOTO_UPDATING = 'profile/TOGGLE_IS_PHOTO_UPDATING'\r\nconst UPDATE_PHOTO_SUCCESS = 'profile/UPDATE_PHOTO_SUCCESS'\r\n\r\n\r\nconst initialState = {\r\n    isLoading: false,\r\n    profileData: null,\r\n    isStatusLoading: false,\r\n    status: '',\r\n    isMyProfile: false,\r\n    editMode: false,\r\n    isPhotoUpdating: false,\r\n    postsData: [\r\n        { id: 1, text: `Hi, how are you?`, likes: 0, liked: false },\r\n        { id: 2, text: `It's my first post!`, likes: 0, liked: false },\r\n        { id: 3, text: `111`, likes: 0, liked: false }\r\n    ]\r\n}\r\n\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            let data = state.postsData\r\n            return {\r\n                ...state,\r\n                postsData: [...data, {\r\n                    id: data[data.length - 1].id + 1,\r\n                    text: action.text,\r\n                    likes: 0,\r\n                    liked: false\r\n                }],\r\n                newPostText: ''\r\n            }\r\n        case DELETE_POST:\r\n            return {\r\n                ...state,\r\n                postsData: state.postsData.filter(item => item.id != action.id)\r\n            }\r\n        case LIKE_POST:\r\n            return {\r\n                ...state,\r\n                postsData: state.postsData.map((item) => {\r\n                    if (item.id === action.id) {\r\n                        return {\r\n                            ...item,\r\n                            likes: !item.liked ? item.likes + 1 : item.likes - 1,\r\n                            liked: !item.liked\r\n                        }\r\n                    } else {\r\n                        return {...item}\r\n                    }\r\n                })\r\n            }\r\n        case SET_PROFILE:\r\n            return {\r\n                ...state,\r\n                profileData: {...action.profileData},\r\n            }\r\n        case SET_STATUS:\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        case TOGGLE_STATUS_LOADING:\r\n            return {\r\n                ...state,\r\n                isStatusLoading: action.isStatusLoading\r\n            }\r\n        case TOGGLE_IS_MY_PROFILE:\r\n            return {\r\n                ...state,\r\n                isMyProfile: action.isMyProfile\r\n            }\r\n        case TOGGLE_PROFILE_LOADING:\r\n            return {\r\n                ...state,\r\n                isLoading: action.isLoading\r\n            }\r\n        case TOGGLE_EDIT_MODE:\r\n            return {\r\n                ...state,\r\n                editMode: action.editMode\r\n            }\r\n        case TOGGLE_IS_PHOTO_UPDATING:\r\n            return {\r\n                ...state,\r\n                isPhotoUpdating: action.isPhotoUpdating\r\n            }\r\n        case UPDATE_PHOTO_SUCCESS:\r\n            return {\r\n                ...state,\r\n                profileData: {\r\n                    ...state.profileData,\r\n                    photos: {...action.photos}\r\n                }\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n\r\n// ActionCreators\r\n\r\n\r\nexport const addPost = (text) => ({\r\n    type: ADD_POST,\r\n    text\r\n})\r\nexport const deletePost = (id) => ({\r\n    type: DELETE_POST,\r\n    id\r\n})\r\nexport const likePost = (id) => ({\r\n    type: LIKE_POST,\r\n    id\r\n})\r\nexport const setProfile = (profileData) => ({\r\n    type: SET_PROFILE,\r\n    profileData\r\n})\r\nexport const setStatus = (status) => ({\r\n    type: SET_STATUS,\r\n    status\r\n})\r\nexport const toggleStatusLoading = (isStatusLoading) => ({\r\n    type: TOGGLE_STATUS_LOADING,\r\n    isStatusLoading\r\n})\r\nexport const toggleIsMyProfile = (isMyProfile) => ({\r\n    type: TOGGLE_IS_MY_PROFILE,\r\n    isMyProfile\r\n})\r\nexport const toggleLoading = (isLoading) => ({ type: TOGGLE_PROFILE_LOADING, isLoading })\r\nexport const toggleEditMode = (editMode) => ({ type: TOGGLE_EDIT_MODE, editMode })\r\nexport const toggleIsPhotoUpdating = (isPhotoUpdating) => ({\r\n    type: TOGGLE_IS_PHOTO_UPDATING,\r\n    isPhotoUpdating\r\n})\r\nexport const updatePhotoSuccess = (photos) => ({\r\n    type: UPDATE_PHOTO_SUCCESS,\r\n    photos\r\n})\r\n\r\n\r\n// ThunkCreators\r\n\r\nexport const requestProfile = (id, isMyProfile) => async (dispatch) => {\r\n    dispatch(toggleLoading(true))\r\n    dispatch(toggleIsMyProfile(isMyProfile))\r\n\r\n    const data = await profileAPI.getProfile(id)\r\n    const statusData = await profileAPI.getStatus(id)\r\n    dispatch(setProfile(data))\r\n    dispatch(setStatus(statusData))\r\n    dispatch(toggleLoading(false))\r\n}\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    dispatch(toggleStatusLoading(true))\r\n\r\n    const { resultCode } = await profileAPI.updateStatus(status)\r\n    if (resultCode === 0) dispatch(setStatus(status))\r\n    dispatch(toggleStatusLoading(false))\r\n}\r\n\r\nexport const updateProfilePhoto = (file) => async (dispatch) => {\r\n    dispatch(toggleIsPhotoUpdating(true))\r\n\r\n    const { resultCode, data: {photos} } = await profileAPI.updatePhoto(file)\r\n\r\n    if (resultCode === 0) {\r\n        dispatch(updatePhotoSuccess(photos))\r\n        dispatch(toggleIsPhotoUpdating(false))\r\n    }\r\n}\r\n\r\nexport const updateProfileData = (newProfileData) => async (dispatch, getState) => {\r\n\r\n    const { resultCode, messages } = await profileAPI.updateProfileData(newProfileData)\r\n    if (resultCode === 0) {\r\n        dispatch(requestProfile(getAuthData(getState()).id, true))\r\n        dispatch(toggleEditMode(false))\r\n    } else {\r\n        dispatch(stopSubmit('editProfile', {_error: messages}))\r\n    }\r\n}\r\n\r\nexport default profileReducer","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"Friends_title__253JH\",\"item\":\"Friends_item__RQkGl\"};","import * as axios from 'axios'\r\n\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    withCredentials: true,\r\n    headers: {\r\n        'API-KEY': '727d7a8b-28cd-456e-989f-7956b9659d91'\r\n    }\r\n})\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage, pageSize) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(res => res.data)\r\n    },\r\n\r\n    followUser(id) {\r\n        return instance.post(`follow/${id}`)\r\n            .then(res => res.data)\r\n    },\r\n\r\n    unfollowUser(id) {\r\n        return instance.delete(`follow/${id}`)\r\n            .then(res => res.data)\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(id) {\r\n        return instance.get(`profile/${id}`)\r\n            .then(res => res.data)\r\n    },\r\n    \r\n    getStatus(id) {\r\n        return instance.get(`profile/status/${id}`)\r\n            .then(res => res.data)\r\n    },\r\n\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, { status })\r\n            .then(res => res.data)\r\n    },\r\n\r\n    updatePhoto(file) {\r\n        const formData = new FormData()\r\n        formData.append('image', file, file.name)\r\n\r\n        return instance.put(`profile/photo`, formData, {\r\n            headers: {\r\n                'Content-type': 'multipart/form-data'\r\n            }\r\n        })\r\n            .then(res => res.data)\r\n    },\r\n\r\n    updateProfileData(newData) {\r\n\r\n        \r\n        return instance.put(`profile`, newData)\r\n            .then(res => res.data)\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    getAuthData() {\r\n        return instance.get(`auth/me`)\r\n            .then(res => res.data)\r\n    },\r\n    login(loginData) {\r\n        return instance.post(`auth/login`, loginData)\r\n            .then(res => res.data)\r\n    },\r\n    getCaptcha() {\r\n        return instance.get(`security/get-captcha-url`)\r\n            .then(res => res.data)\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`)\r\n            .then(res => res.data)\r\n    }\r\n}","import { usersAPI } from '../api/api'\r\n\r\nconst FOLLOW_SUCCESS = 'users/FOLLOW_SUCCESS'\r\nconst TOGGLE_FOLLOW_DISABLED = 'users/TOGGLE_FOLLOW_DISABLED'\r\nconst SET_USERS = 'users/SET_USERS'\r\nconst SET_CURRENT_PAGE = 'users/SET_CURRENT_PAGE'\r\nconst TOGGLE_USERS_LOADING = 'users/TOGGLE_USERS_LOADING'\r\n\r\n\r\nconst initialState = {\r\n    users: null,\r\n    pageSize: 5,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isLoading: false\r\n}\r\n\r\nconst usersReducer = (state=initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW_SUCCESS:\r\n            return {\r\n                ...state,\r\n                users: state.users.map((item) => {\r\n                    if (item.id === action.id) {\r\n                        return { ...item, followed: action.followed }\r\n                    } else {\r\n                        return item\r\n                    }\r\n                })\r\n            }\r\n        case TOGGLE_FOLLOW_DISABLED:\r\n            return {\r\n                ...state,\r\n                users: state.users.map((item) => {\r\n                    if (item.id === action.id) {\r\n                        return { ...item, isFollowDisabled: action.isFollowDisabled }\r\n                    } else {\r\n                        return item\r\n                    }\r\n                })\r\n            }\r\n        case SET_USERS:\r\n            return {\r\n                ...state,\r\n                users: [...action.users],\r\n                totalUsersCount: action.totalUsersCount\r\n            }\r\n        case SET_CURRENT_PAGE:\r\n            return {\r\n                ...state,\r\n                currentPage: action.currentPage\r\n            }\r\n        case TOGGLE_USERS_LOADING:\r\n            return {\r\n                ...state,\r\n                isLoading: action.isLoading\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default usersReducer\r\n\r\n// ActionCreators\r\n\r\nexport const followSuccess = (id, followed) => ({ type: FOLLOW_SUCCESS, id, followed })\r\nexport const toggleFollowDisabled = (id, isFollowDisabled) => ({ type: TOGGLE_FOLLOW_DISABLED, id, isFollowDisabled })\r\nexport const setUsers = (users, totalUsersCount) => ({ type: SET_USERS, users, totalUsersCount })\r\nexport const setCurrentPage = (currentPage) => ({ type: SET_CURRENT_PAGE, currentPage })\r\nexport const toggleLoading = (isLoading) => ({ type: TOGGLE_USERS_LOADING, isLoading })\r\n\r\n// ThunkCreators\r\n\r\nexport const requestUsers = (pageNumber, pageSize) => async (dispatch) => {\r\n    dispatch(toggleLoading(true))\r\n    \r\n    const { items, totalCount } = await usersAPI.getUsers(pageNumber, pageSize)\r\n    dispatch(setUsers(items, totalCount))\r\n    dispatch(toggleLoading(false))\r\n}\r\n\r\nexport const requireFollow = (id, willFollow) => async (dispatch) => {\r\n    dispatch(toggleFollowDisabled(id, true))\r\n\r\n    const { resultCode }\r\n        = await (willFollow\r\n            ? usersAPI.followUser(id)\r\n            : usersAPI.unfollowUser(id))\r\n    if (resultCode === 0) dispatch(followSuccess(id, willFollow))\r\n    dispatch(toggleFollowDisabled(id, false))\r\n}","const SEND_MESSAGE = 'messages/SEND_MESSAGE'\r\n\r\n\r\nconst initialState = {\r\n    dialogsData: [\r\n        { id: 1, name: 'Dimych' },\r\n        { id: 2, name: 'Andrey' },\r\n        { id: 3, name: 'Katya' },\r\n        { id: 4, name: 'Sasha' }\r\n    ],\r\n    messagesData: [\r\n        { id: 1, text: 'Hi!' },\r\n        { id: 2, text: 'How are you?' },\r\n        { id: 3, text: '111' }\r\n    ]\r\n}\r\n\r\n\r\nconst messagesReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n            let data = state.messagesData\r\n            return  {\r\n                ...state,\r\n                messagesData: [...data, {\r\n                    id: data[data.length - 1].id + 1,\r\n                    text: action.text\r\n                }],\r\n                newMessageText: ''\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n\r\nexport const sendMessage = (text) => ({\r\n    type: SEND_MESSAGE,\r\n    text\r\n})\r\n\r\n\r\nexport default messagesReducer","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__fE5AI\"};","module.exports = __webpack_public_path__ + \"static/media/spinner.e6022fed.gif\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"Sidebar_sidebar__1TBxp\",\"item\":\"Sidebar_item__3aqNG\",\"active\":\"Sidebar_active__2s3qF\"};"],"sourceRoot":""}