{"version":3,"sources":["components/common/FormsControls/FormsControls.js","utils/validators.js","components/common/FormsControls/FormControls.module.css","components/Messages/Messages.module.css","components/HOC/withLoginRedirect.js","components/Messages/NewMessage/NewMessage.module.css","components/Messages/DialogItem/DialogItem.js","components/Messages/Message/Message.js","components/Messages/NewMessage/NewMessage.js","components/Messages/NewMessage/NewMessageContainer.js","components/Messages/Messages.js","components/Messages/MessagesContainer.js"],"names":["Input","input","meta","props","hasError","touched","active","error","className","cn","s","formControl","Textarea","required","value","maxLength","length","minLength","validEmail","includes","module","exports","withLoginRedirect","Component","connect","state","isAuth","auth","to","DialogItem","id","name","dialog","Message","text","message","maxLength50","NewMessage","handleSubmit","onSubmit","messageForm","Field","component","placeholder","validate","textarea","button","type","mapDispatchToProps","sendMessage","reset","NewMessageReduxForm","reduxForm","form","Messages","dialogsData","messagesData","dialogs","dialogsItems","map","key","messages","compose","getDialogs","getMessages"],"mappings":"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","file":"static/js/5.de26ac41.chunk.js","sourcesContent":["import React from 'react'\r\nimport s from './FormControls.module.css'\r\nimport cn from 'classnames'\r\n\r\n\r\nexport const Input = ({ input, meta, ...props }) => {\r\n\r\n    const hasError = meta.touched && !meta.active && meta.error\r\n\r\n    return (\r\n        <div className={cn(s.formControl, (hasError && s.error))}>\r\n            <input\r\n                {...input}\r\n                {...props}\r\n            />\r\n            {hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = ({ input, meta, ...props }) => {\r\n\r\n    const hasError = meta.touched && !meta.active && meta.error\r\n\r\n    return (\r\n        <div className={cn(s.formControl, (hasError && s.error))}>\r\n            <textarea\r\n                {...input}\r\n                {...props}\r\n            />\r\n            {hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n}","export const required = (value) => !value && 'Field is required!'\r\nexport const maxLength = (maxLength) => (value) => {\r\n    if (value && value.length <= maxLength) {\r\n        return undefined\r\n    } else if (value) {\r\n        return `Max length is ${maxLength} symbols!`\r\n    }\r\n}\r\nexport const minLength = (minLength) => (value) => {\r\n    if (value && value.length >= minLength) {\r\n        return undefined\r\n    } else if (value) {\r\n        return `Min length is ${minLength} symbols!`\r\n    }\r\n}\r\nexport const validEmail = (value) => {\r\n    if (value && value.includes('@') && value.includes('.')) {\r\n        return undefined\r\n    } else {\r\n        return 'Invalid Email!'\r\n    }\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__3NXQT\",\"error\":\"FormControls_error__3a80F\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Messages_dialogs__1EjbQ\",\"messages\":\"Messages_messages__1T_RZ\",\"dialogsItems\":\"Messages_dialogsItems__hNj0V\",\"dialog\":\"Messages_dialog__31jPk\",\"active\":\"Messages_active__2ofh4\",\"message\":\"Messages_message__1Jzje\"};","import React from 'react'\r\nimport { Redirect } from 'react-router'\r\nimport { connect } from 'react-redux'\r\n\r\n\r\nconst withLoginRedirect = (Component) => {\r\n\r\n    const RedirectComponent = (props) => {\r\n        return props.isAuth ? <Component {...props} /> : <Redirect to='/login' />\r\n    }\r\n\r\n    const mapStateToProps = (state) => ({\r\n        isAuth: state.auth.isAuth\r\n    })\r\n\r\n    return connect(mapStateToProps)(RedirectComponent)\r\n}\r\n\r\nexport default withLoginRedirect","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"NewMessage_button__131rl\"};","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\nimport s from './../Messages.module.css'\r\n\r\nconst DialogItem = ({ id, name }) => {\r\n    return (\r\n        <li className={s.dialog}>\r\n            <NavLink to={`/messages/${id}`}>{name}</NavLink>\r\n        </li>\r\n    )\r\n}\r\n\r\nexport default DialogItem","import React from 'react'\r\nimport s from './../Messages.module.css'\r\n\r\nconst Message = ({ text }) => {\r\n    return (\r\n        <li className={s.message}>\r\n            {text}\r\n        </li>\r\n    )\r\n}\r\n\r\nexport default Message","import React from 'react'\r\nimport s from './NewMessage.module.css'\r\nimport { Field } from 'redux-form'\r\nimport { maxLength, required } from '../../../utils/validators'\r\nimport { Textarea } from '../../common/FormsControls/FormsControls'\r\n\r\nconst maxLength50 = maxLength(50)\r\n\r\nconst NewMessage = ({ handleSubmit }) => {\r\n\r\n    return (\r\n        <form \r\n            onSubmit={handleSubmit}\r\n            className={s.messageForm}\r\n        >\r\n            <Field\r\n                component={Textarea}\r\n                name='text'\r\n                placeholder='Enter your message'\r\n                validate={[maxLength50]}\r\n                className={s.textarea}\r\n            />\r\n            <button\r\n                className={s.button}\r\n                type='submit'\r\n            >Send message</button>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default NewMessage","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { reduxForm, reset } from 'redux-form'\r\nimport { sendMessage } from '../../../redux/messages-reducer'\r\nimport NewMessage from './NewMessage'\r\n\r\nconst NewMessageContainer = ({ sendMessage, reset }) => {\r\n\r\n    const onFormSubmit = ({ text }) => {\r\n        sendMessage(text)\r\n        reset('newMessage')\r\n    }\r\n\r\n    const NewMessageReduxForm = reduxForm({\r\n        form: 'newMessage'\r\n    })(NewMessage)\r\n\r\n    return <NewMessageReduxForm\r\n        onSubmit={onFormSubmit}/>\r\n}\r\n\r\n\r\n\r\nconst mapDispatchToProps = { sendMessage, reset }\r\n\r\nexport default connect(null, mapDispatchToProps)(NewMessageContainer)","import React from 'react'\r\nimport s from './Messages.module.css'\r\nimport DialogItem from './DialogItem/DialogItem'\r\nimport Message from './Message/Message'\r\nimport NewMessageContainer from './NewMessage/NewMessageContainer'\r\n\r\n\r\nconst Messages = ({ dialogsData, messagesData }) => {\r\n\r\n    return (\r\n        <div className={s.dialogs}>\r\n            <ul className={s.dialogsItems}>\r\n                {dialogsData.map(({ id, name }) => <DialogItem key={id} name={name}/>)}\r\n            </ul>\r\n            <ul className={s.messages}>\r\n                {messagesData.map(({ id, text }) => <Message key={id} text={text}/>)}\r\n            </ul>\r\n            <NewMessageContainer />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Messages","import { connect } from 'react-redux'\r\nimport Messages from './Messages'\r\nimport withLoginRedirect from '../HOC/withLoginRedirect'\r\nimport { compose } from 'redux'\r\nimport { getDialogs, getMessages } from '../../redux/selectors'\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        dialogsData: getDialogs(state),\r\n        messagesData: getMessages(state)\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps),\r\n    withLoginRedirect\r\n)(Messages)"],"sourceRoot":""}