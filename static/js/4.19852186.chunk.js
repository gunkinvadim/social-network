(this["webpackJsonpreact-1"]=this["webpackJsonpreact-1"]||[]).push([[4],{227:function(t,e,n){"use strict";n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o})),n.d(e,"d",(function(){return u}));var a=function(t){return!t&&"Field is required!"},r=function(t){return function(e){if(!(e&&e.length<=t))return e?"Max length is ".concat(t," symbols!"):void 0}},o=function(t){return function(e){if(!(e&&e.length>=t))return e?"Min length is ".concat(t," symbols!"):void 0}},u=function(t){return t&&t.includes("@")&&t.includes(".")?void 0:"Invalid Email!"}},228:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return c}));var a=n(231),r=n(0),o=n.n(r),u=n(229),i=function(t){var e=t.input,n=t.meta,r=Object(a.a)(t,["input","meta"]),i=n.touched&&!n.active&&n.error;return o.a.createElement("div",{className:u.formControl+" "+(i&&u.error)},o.a.createElement("input",Object.assign({},e,r)),i&&o.a.createElement("span",null,n.error))},c=function(t){var e=t.input,n=t.meta,r=Object(a.a)(t,["input","meta"]),i=n.touched&&!n.active&&n.error;return o.a.createElement("div",{className:u.formControl+" "+(i&&u.error)},o.a.createElement("textarea",Object.assign({},e,r)),i&&o.a.createElement("span",null,n.error))}},229:function(t,e,n){t.exports={formControl:"FormControls_formControl__3NXQT",error:"FormControls_error__3a80F"}},251:function(t,e,n){},252:function(t,e,n){},253:function(t,e,n){t.exports={button:"NewPost_button__1Y70z"}},294:function(t,e,n){t.exports={post:"Post_post__2RAJK",postImg:"Post_postImg__2zsra",postText:"Post_postText__3yuuP",likeBtn:"Post_likeBtn__jBN6o",likedBtn:"Post_likedBtn__1rl9l"}},295:function(t,e,n){},296:function(t,e,n){t.exports={emptyStatus:"Status_emptyStatus__1vTO2"}},308:function(t,e,n){"use strict";n.r(e);var a=n(33),r=n(34),o=n(36),u=n(35),i=n(37),c=n(0),s=n.n(c),l=n(20),m=n(18),f=n(49),d=(n(251),n(252)),p=n(113),b=n(253),v=n(112),E=n(227),g=n(228),h=Object(E.a)(30),j=function(t){var e=t.handleSubmit;return s.a.createElement("form",{onSubmit:e,className:b.postForm},s.a.createElement(v.a,{component:g.b,name:"text",placeholder:"Post message",validate:[h],className:b.textarea}),s.a.createElement("button",{className:b.button,type:"submit"},"Add post"))},O={addPost:f.a},y=Object(m.b)(null,O)((function(t){var e=t.addPost,n=Object(p.a)({form:"newPost"})(j);return s.a.createElement(n,{onSubmit:function(t){var n=t.text;e(n)}})})),_=n(294),P=function(t){var e=t.postData,n=(e.id,e.text),a=e.likes,r=e.liked,o=t.onLikePost;return s.a.createElement("div",{className:_.post},s.a.createElement("img",{className:_.postImg,src:"https://static.mk.ru/upload/entities/2019/05/08/00/articles/detailPicture/c7/b5/08/6e/5dda626cb409b1fa6942c29040609e17.jpg"}),s.a.createElement("div",{className:_.postText},n),s.a.createElement("button",{className:_.likeBtn+" "+(r&&_.likedBtn),onClick:o},"Like (",s.a.createElement("span",null,a),")"))},S={likePost:f.c},k=Object(m.b)(null,S)((function(t){var e=t.postData,n=t.likePost;return s.a.createElement(P,{postData:e,onLikePost:function(){n(e.id)}})})),x=function(t){var e=t.postsData;return s.a.createElement("div",{className:d.myPosts},s.a.createElement("h3",null,"My Posts"),s.a.createElement(y,null),e.map((function(t){return s.a.createElement(k,{key:t.id,postData:t})})))},N=n(29),D=Object(m.b)((function(t){return{postsData:Object(N.m)(t)}}))(x),M=(n(295),n(25));function T(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],a=!0,r=!1,o=void 0;try{for(var u,i=t[Symbol.iterator]();!(a=(u=i.next()).done)&&(n.push(u.value),!e||n.length!==e);a=!0);}catch(c){r=!0,o=c}finally{try{a||null==i.return||i.return()}finally{if(r)throw o}}return n}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var C=n(296),I=function(t){var e=t.isMyProfile,n=t.status,a=t.isStatusLoading,r=t.editMode,o=t.statusText,u=t.toggleEditMode,i=t.changeStatusText,c=t.onUpdateStatus;return e?s.a.createElement("div",null,r?s.a.createElement("form",{onSubmit:c},s.a.createElement("input",{value:o,onChange:function(t){return i(t.currentTarget.value)},autoFocus:!0}),s.a.createElement("button",{type:"submit"},"Save")):s.a.createElement("span",{onClick:function(){return u(!0)},className:o?null:C.emptyStatus},a?"loading...":o||"no status")):s.a.createElement("div",null,a?"loading...":n)},L={updateStatus:f.e},w=Object(m.b)((function(t){return{isMyProfile:Object(N.g)(t),status:Object(N.o)(t),isStatusLoading:Object(N.i)(t)}}),L)((function(t){var e=t.updateStatus,n=t.status,a=t.isMyProfile,r=t.isStatusLoading,o=T(Object(c.useState)(!1),2),u=o[0],i=o[1],l=T(Object(c.useState)(n),2),m=l[0],f=l[1];Object(c.useEffect)((function(){f(n)}),[n]);var d=function(t){i(t)};return s.a.createElement(I,{isMyProfile:a,status:n,isStatusLoading:r,editMode:u,statusText:m,toggleEditMode:d,changeStatusText:function(t){f(t)},onUpdateStatus:function(){e(m),d(!1)}})})),A=function(t){var e=t.profileData;if(!e)return s.a.createElement(M.a,null);var n=e.fullName,a=e.aboutMe;return s.a.createElement("div",null,s.a.createElement("h1",null,n),s.a.createElement("p",null,a),s.a.createElement(w,null))},B=function(t){var e=t.profileData;return s.a.createElement("div",null,s.a.createElement(A,{profileData:e}),s.a.createElement(D,null))},F=n(17),q=function(t){function e(){return Object(a.a)(this,e),Object(o.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(i.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){var t=this.props,e=t.match,n=t.authId,a=t.requestProfile,r=e.params.userId;r?a(r,!1):a(n,!0)}},{key:"render",value:function(){var t=this.props,e=t.isAuth,n=t.match,a=t.isLoading,r=t.profileData;return n.params.userId||e?a?s.a.createElement(M.a,null):s.a.createElement(B,{profileData:r}):s.a.createElement(l.a,{to:"/login"})}}]),e}(s.a.Component),J={requestProfile:f.d};e.default=Object(F.d)(Object(m.b)((function(t){return{isLoading:Object(N.h)(t),profileData:Object(N.n)(t),isAuth:Object(N.f)(t),authId:Object(N.a)(t).id}}),J),l.g)(q)}}]);
//# sourceMappingURL=4.19852186.chunk.js.map